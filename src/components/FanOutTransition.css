
.fan-out-transition {
  position: absolute;
  inset: 0;
  z-index: 1000;
  pointer-events: none;
  background: transparent;
  overflow: hidden;
}

.fan-out-transition__photo {
  position: absolute;
  top: 0;
  left: 0;
  transform-origin: center;
  will-change: transform;
  transition:
    transform var(--fly-duration) cubic-bezier(0.22, 0.61, 0.36, 1);
  transition-delay: var(--delay);
}

.fan-out-transition--start .fan-out-transition__photo {
  transform:
    translate(var(--start-x), var(--start-y))
    scale(var(--start-scale))
    rotate(var(--start-rotation));
}

.fan-out-transition--fly .fan-out-transition__photo {
  transform:
    translate(var(--end-x), var(--end-y))
    scale(var(--end-scale))
    rotate(var(--end-rotation));
}

.fan-out-transition__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  box-shadow:
    0 0 0 3px #fff,
    0 4px 12px rgba(0, 0, 0, 0.45);
  display: block;
  background: #000;
}

@media (prefers-reduced-motion: reduce) {
  .fan-out-transition__photo {
    transition-duration: 0.2s;
  }

  .fan-out-transition--start .fan-out-transition__photo {
    transform:
      translate(var(--end-x), var(--end-y))
      scale(0.95);
  }
}

